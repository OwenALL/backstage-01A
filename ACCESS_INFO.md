# ğŸ” ç”Ÿäº§ç¯å¢ƒå®Œæ•´è®¿é—®ä¿¡æ¯

âš ï¸ **é‡è¦æç¤º**: æ­¤æ–‡æ¡£åŒ…å«ç”Ÿäº§ç¯å¢ƒçš„å®Œæ•´è®¿é—®å‡­è¯,è¯·å¦¥å–„ä¿ç®¡ã€‚

---

## ğŸŒ ç”Ÿäº§ç¯å¢ƒè®¿é—®åœ°å€

### ç³»ç»Ÿæ€»ç®¡ç†åå°
- **è®¿é—®åœ°å€**: https://webapp-eqp.pages.dev/
- **ç™»å½•è´¦å·**: `admin`
- **ç™»å½•å¯†ç **: `Qwer@1234`
- **æƒé™çº§åˆ«**: è¶…çº§ç®¡ç†å‘˜ (æœ€é«˜æƒé™)
- **åŠŸèƒ½æƒé™**: 
  - âœ… ç©å®¶ç®¡ç† (æŸ¥çœ‹ã€æ·»åŠ ã€ç¼–è¾‘ã€ç¦ç”¨)
  - âœ… ä»£ç†ç®¡ç† (5çº§æ ‘å½¢æ¶æ„)
  - âœ… è´¢åŠ¡ç®¡ç† (å­˜å–æ¬¾ã€å®¡æ ¸ã€äº¤æ˜“æµæ°´)
  - âœ… çº¢åˆ©ä¸æ´—ç  (æ–¹æ¡ˆé…ç½®ã€å®¡æ ¸å‘æ”¾)
  - âœ… é£æ§ç®¡ç† (é¢„è­¦ã€é™çº¢ã€è§„åˆ™)
  - âœ… æŠ¥è¡¨ä¸­å¿ƒ (8ç§ä¸“ä¸šæŠ¥è¡¨)
  - âœ… ç³»ç»Ÿè®¾ç½® (æƒé™ã€2FAã€è§’è‰²é…ç½®)
  - âœ… ç›´æ’­é—´ç®¡ç† (è·å®˜ã€æ¡Œå°ã€æ’ç­)

### ä»£ç†ç®¡ç†åå° - è‚¡ä¸œçº§åˆ«
- **è®¿é—®åœ°å€**: https://webapp-eqp.pages.dev/agent.html
- **ç™»å½•è´¦å·**: `shareholder01`
- **ç™»å½•å¯†ç **: `Qwer@1234`
- **æƒé™çº§åˆ«**: è‚¡ä¸œ (Shareholder)
- **åŠŸèƒ½æƒé™**:
  - âœ… è´¦æˆ·æ€»è§ˆ (ç´¯è®¡æ´—ç è´¹ã€ä¸šç»©ç»Ÿè®¡)
  - âœ… ä»£ç†å±‚çº§ (æŸ¥çœ‹ä¸‹çº§ä»£ç†æ ‘)
  - âœ… å›¢é˜Ÿç®¡ç† (ç©å®¶åˆ—è¡¨ã€è¯¦æƒ…)
  - âœ… æ¸¸æˆæŠ¥è¡¨ (æ•°æ®ç»Ÿè®¡ã€è¯¦æƒ…å±•å¼€)
  - âœ… ä½£é‡‘æ˜ç»† (æ´—ç è´¹ã€å æˆè®¡ç®—)
  - âœ… è´¢åŠ¡è®°å½• (äº¤æ˜“æ˜ç»†ã€ä½™é¢)

### ä»£ç†ç®¡ç†åå° - ä»£ç†çº§åˆ«
- **è®¿é—®åœ°å€**: https://webapp-eqp.pages.dev/agent.html
- **ç™»å½•è´¦å·**: `agent01`
- **ç™»å½•å¯†ç **: `Qwer@1234`
- **æƒé™çº§åˆ«**: ä»£ç† (Agent)
- **åŠŸèƒ½æƒé™**:
  - âœ… è´¦æˆ·æ€»è§ˆ (ä¸ªäººä¸šç»©ç»Ÿè®¡)
  - âœ… ä»£ç†å±‚çº§ (ç®¡ç†ä¸‹çº§ä»£ç†)
  - âœ… å›¢é˜Ÿç®¡ç† (ç›´å±ç©å®¶)
  - âœ… æ¸¸æˆæŠ¥è¡¨ (å›¢é˜Ÿæ•°æ®)
  - âœ… ä½£é‡‘æ˜ç»† (æ´—ç è´¹è¯¦æƒ…)
  - âœ… è´¢åŠ¡è®°å½• (è´¦æˆ·æµæ°´)

---

## ğŸ§ª æ²™ç®±æ¼”ç¤ºç¯å¢ƒ

### ç³»ç»Ÿæ€»ç®¡ç†åå° (æ²™ç®±)
- **è®¿é—®åœ°å€**: https://3000-iuwuqi7rz0v5niuhr74wf-cc2fbc16.sandbox.novita.ai/
- **ç™»å½•è´¦å·**: `admin`
- **ç™»å½•å¯†ç **: `Qwer@1234`
- **è¯´æ˜**: æ²™ç®±ç¯å¢ƒç”¨äºæµ‹è¯•,æ•°æ®å¯èƒ½éšæ—¶é‡ç½®

### ä»£ç†ç®¡ç†åå° (æ²™ç®±)
- **è®¿é—®åœ°å€**: https://3000-iuwuqi7rz0v5niuhr74wf-cc2fbc16.sandbox.novita.ai/agent.html
- **è‚¡ä¸œè´¦å·**: `shareholder01` / `Qwer@1234`
- **ä»£ç†è´¦å·**: `agent01` / `Qwer@1234`

---

## ğŸ“Š Cloudflare åŸºç¡€è®¾æ–½ä¿¡æ¯

### D1 æ•°æ®åº“
- **æ•°æ®åº“åç§°**: webapp-production
- **æ•°æ®åº“ ID**: dbac89e1-e8bf-44e6-a2ac-3ef4a984c945
- **åŒºåŸŸ**: ENAM (Eastern North America)
- **ç±»å‹**: SQLite-based (Cloudflare D1)
- **è¿ç§»çŠ¶æ€**: 3ä¸ªè¿ç§»å·²åº”ç”¨
  - 0001_schema.sql (åˆå§‹æ¶æ„)
  - 0002_add_agent_domains.sql (ä»£ç†åŸŸå)
  - 0003_transfer_system.sql (è½¬è´¦ç³»ç»Ÿ)

### Cloudflare Pages é¡¹ç›®
- **é¡¹ç›®åç§°**: webapp
- **é¡¹ç›® ID**: 7839cb8c-66ce-4422-8102-9e98dc337b5e
- **ç”Ÿäº§åŸŸå**: webapp-eqp.pages.dev
- **éƒ¨ç½²åˆ†æ”¯**: main
- **æ„å»ºå‘½ä»¤**: `npm run build`
- **è¾“å‡ºç›®å½•**: dist

### Cloudflare è´¦å·ä¿¡æ¯
- **è´¦å·é‚®ç®±**: Cnwen123@gmail.com
- **è´¦å· ID**: 9b1750b36d4bb9662caa1f91ae4e4ba5

---

## ğŸ—„ï¸ æ•°æ®åº“è¿æ¥æ–¹å¼

### ä½¿ç”¨ Wrangler CLI è¿æ¥
```bash
# è¿æ¥ç”Ÿäº§æ•°æ®åº“
wrangler d1 execute webapp-production --remote --command="SELECT * FROM admins"

# æŸ¥è¯¢ç©å®¶
wrangler d1 execute webapp-production --remote --command="SELECT * FROM players LIMIT 10"

# æŸ¥è¯¢ä»£ç†
wrangler d1 execute webapp-production --remote --command="SELECT * FROM agents"

# æŸ¥è¯¢äº¤æ˜“è®°å½•
wrangler d1 execute webapp-production --remote --command="SELECT * FROM transactions ORDER BY created_at DESC LIMIT 20"
```

### æ•°æ®åº“è¡¨ç»“æ„
- `admins` - ç®¡ç†å‘˜è¡¨ (å½“å‰è´¦å·: admin)
- `agents` - ä»£ç†è¡¨ (å½“å‰è´¦å·: shareholder01, agent01)
- `players` - ç©å®¶è¡¨
- `transactions` - äº¤æ˜“è®°å½•è¡¨
- `bets` - æŠ•æ³¨è®°å½•è¡¨
- `withdraw_requests` - ææ¬¾ç”³è¯·è¡¨
- `deposits` - å­˜æ¬¾è®°å½•è¡¨
- `commission_records` - ä½£é‡‘è®°å½•è¡¨
- `commission_schemes` - æ´—ç æ–¹æ¡ˆè¡¨
- `game_tables` - æ¸¸æˆæ¡Œå°è¡¨
- `dealers` - è·å®˜è¡¨
- `payment_methods` - æ”¯ä»˜æ–¹å¼è¡¨
- `risk_alerts` - é£æ§é¢„è­¦è¡¨
- `audit_logs` - å®¡è®¡æ—¥å¿—è¡¨
- `player_sessions` - ç©å®¶ä¼šè¯è¡¨

---

## ğŸ”§ ç®¡ç†å‘˜æ“ä½œæŒ‡å—

### ä¿®æ”¹å¯†ç 
1. ç™»å½•ç³»ç»Ÿæ€»ç®¡ç†åå°
2. ç‚¹å‡»å³ä¸Šè§’ã€Œç³»ç»Ÿè®¾ç½®ã€â†’ã€Œä¿®æ”¹å¯†ç ã€
3. è¾“å…¥å½“å‰å¯†ç  `Qwer@1234`
4. è¾“å…¥æ–°å¯†ç å¹¶ç¡®è®¤
5. ç‚¹å‡»ã€Œç¡®è®¤ä¿®æ”¹ã€

### æ·»åŠ æ–°ç®¡ç†å‘˜
1. è¿›å…¥ã€Œç³»ç»Ÿç®¡ç†ã€â†’ã€Œç®¡ç†å‘˜ç®¡ç†ã€
2. ç‚¹å‡»ã€Œæ·»åŠ ç®¡ç†å‘˜ã€
3. å¡«å†™ç”¨æˆ·åã€å¯†ç ã€æ˜µç§°
4. é€‰æ‹©è§’è‰²æƒé™
5. ç‚¹å‡»ã€Œä¿å­˜ã€

### æ·»åŠ æ–°ä»£ç†
1. è¿›å…¥ã€Œä»£ç†ç®¡ç†ã€â†’ã€Œä»£ç†åˆ—è¡¨ã€
2. ç‚¹å‡»ã€Œæ·»åŠ ä»£ç†ã€
3. å¡«å†™ä»£ç†ä¿¡æ¯ (ç”¨æˆ·åã€å¯†ç ã€çº§åˆ«)
4. è®¾ç½®æ´—ç ç‡å’Œå æˆæ¯”ä¾‹
5. ç‚¹å‡»ã€Œä¿å­˜ã€

### å¯ç”¨åŒå› ç´ è®¤è¯ (2FA)
1. è¿›å…¥ã€Œç³»ç»Ÿè®¾ç½®ã€â†’ã€Œå®‰å…¨è®¾ç½®ã€
2. ç‚¹å‡»ã€Œå¯ç”¨2FAã€
3. ä½¿ç”¨ Google Authenticator æ‰«æäºŒç»´ç 
4. è¾“å…¥éªŒè¯ç å®Œæˆç»‘å®š

---

## ğŸš€ éƒ¨ç½²å’Œç»´æŠ¤

### æœ¬åœ°å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/CNWEN123/Live-dealer-backstage-01.git
cd Live-dealer-backstage-01

# 2. å®‰è£…ä¾èµ–
npm install

# 3. æœ¬åœ°å¼€å‘
npm run build
pm2 start ecosystem.config.cjs

# 4. è®¿é—®æœ¬åœ°ç¯å¢ƒ
# ç³»ç»Ÿç®¡ç†: http://localhost:3000/
# ä»£ç†åå°: http://localhost:3000/agent.html
```

### ç”Ÿäº§ç¯å¢ƒæ›´æ–°éƒ¨ç½²
```bash
# 1. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 2. å®‰è£…ä¾èµ–
npm install

# 3. æ„å»ºé¡¹ç›®
npm run build

# 4. éƒ¨ç½²åˆ° Cloudflare Pages
wrangler pages deploy dist --project-name webapp

# 5. åº”ç”¨æ•°æ®åº“è¿ç§» (å¦‚æœ‰æ–°è¿ç§»)
wrangler d1 migrations apply webapp-production --remote
```

### æ•°æ®åº“å¤‡ä»½
```bash
# å¯¼å‡ºæ‰€æœ‰æ•°æ®
wrangler d1 execute webapp-production --remote --command="SELECT * FROM admins" > backup_admins.json
wrangler d1 execute webapp-production --remote --command="SELECT * FROM agents" > backup_agents.json
wrangler d1 execute webapp-production --remote --command="SELECT * FROM players" > backup_players.json
```

---

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®è´Ÿè´£äºº**: Owen
- **è”ç³»é‚®ç®±**: cnwen123@gmail.com
- **GitHub ä¸»ä»“åº“**: https://github.com/CNWEN123/backstage-01A
- **GitHub å¤‡ä»½ä»“åº“**: https://github.com/CNWEN123/Live-dealer-backstage-01

---

## âš ï¸ å®‰å…¨å»ºè®®

### å¼ºçƒˆå»ºè®®
1. **å®šæœŸä¿®æ”¹å¯†ç **: å»ºè®®æ¯3ä¸ªæœˆæ›´æ¢ä¸€æ¬¡å¯†ç 
2. **å¯ç”¨2FA**: ä¸ºæ‰€æœ‰ç®¡ç†å‘˜è´¦å·å¯ç”¨åŒå› ç´ è®¤è¯
3. **IPç™½åå•**: åœ¨ Cloudflare é…ç½®å…è®¸è®¿é—®çš„IPåœ°å€
4. **è®¿é—®æ—¥å¿—**: å®šæœŸæ£€æŸ¥ `audit_logs` è¡¨çš„ç™»å½•è®°å½•
5. **æ•°æ®å¤‡ä»½**: æ¯å‘¨å¤‡ä»½ä¸€æ¬¡æ•°æ®åº“

### å¯†ç ç®¡ç†
- **å½“å‰å¯†ç **: `Qwer@1234` (æ‰€æœ‰è´¦å·ç»Ÿä¸€)
- **æ¨èå¼ºåº¦**: è‡³å°‘åŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦
- **ä¸è¦ä½¿ç”¨**: ç”Ÿæ—¥ã€å§“åã€å¸¸è§è¯æ±‡

### ç´§æ€¥æƒ…å†µå¤„ç†
å¦‚æœå‘ç°è´¦å·è¢«ç›—æˆ–å¼‚å¸¸ç™»å½•:
1. ç«‹å³ä¿®æ”¹æ‰€æœ‰è´¦å·å¯†ç 
2. æ£€æŸ¥ `audit_logs` è¡¨çš„å¼‚å¸¸è®°å½•
3. åœ¨ Cloudflare Dashboard å¯ç”¨ Bot Fight Mode
4. é…ç½® Rate Limiting é™åˆ¶ç™»å½•é¢‘ç‡

---

## ğŸ“ å¿«é€Ÿå‚è€ƒ

### ç™»å½•å‡­è¯é€ŸæŸ¥è¡¨
| ç±»å‹ | è´¦å· | å¯†ç  | è®¿é—®åœ°å€ |
|------|------|------|----------|
| ç³»ç»Ÿç®¡ç†å‘˜ | admin | Qwer@1234 | https://webapp-eqp.pages.dev/ |
| è‚¡ä¸œè´¦å· | shareholder01 | Qwer@1234 | https://webapp-eqp.pages.dev/agent.html |
| ä»£ç†è´¦å· | agent01 | Qwer@1234 | https://webapp-eqp.pages.dev/agent.html |

### API ç«¯ç‚¹
- ç®¡ç†å‘˜ç™»å½•: `POST /api/auth/login`
- ä»£ç†ç™»å½•: `POST /api/agent/login`
- è·å–ç©å®¶åˆ—è¡¨: `GET /api/players`
- è·å–ä»£ç†åˆ—è¡¨: `GET /api/agents`
- è·å–äº¤æ˜“è®°å½•: `GET /api/transactions`

### æ•°æ®åº“è®¿é—®
```bash
# å¿«é€ŸæŸ¥è¯¢ç®¡ç†å‘˜
wrangler d1 execute webapp-production --remote \
  --command="SELECT id, username, role, status FROM admins"

# å¿«é€ŸæŸ¥è¯¢ä»£ç†
wrangler d1 execute webapp-production --remote \
  --command="SELECT id, agent_username, level, status FROM agents"
```

---

**æ–‡æ¡£åˆ›å»ºæ—¶é—´**: 2025-12-01  
**æœ€åæ›´æ–°**: 2025-12-01  
**æ–‡æ¡£ç‰ˆæœ¬**: V1.0  
**é¡¹ç›®ç‰ˆæœ¬**: V2.1  

ğŸ”’ **é‡è¦**: è¯·å¦¥å–„ä¿ç®¡æ­¤æ–‡æ¡£,åŒ…å«å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒè®¿é—®å‡­è¯ã€‚
